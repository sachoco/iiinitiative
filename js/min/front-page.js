(function(){jQuery(function(e){var r,t,n,o,a,l,s,i,u,v,c,h,d,p,f,g;for(t=null,d=e(".section-wrap"),c=e("section.page"),p=c.clone().addClass("page--clone prev").prependTo(d).toArray(),c=c.addClass("next").toArray(),r=e("section.page"),l=s=0,u=c.length;u>s;l=++s)h=c[l],g=50+100*(l-1),e(h).velocity({translateX:g+"%"},{duration:0,complete:function(r){return e(r).fadeIn()}});for(l=i=0,v=p.length;v>i;l=++i)h=p[l],g=-150-100*(p.length-1-l),e(h).velocity({translateX:g+"%"},{duration:0,complete:function(r){return e(r).fadeIn()}});return t=e.inArray(c[0],r),e(r[t]).addClass("current").removeClass("next").removeClass("hover"),a=t,e(document).on("click",".overlay--right",function(){return n()}),e(document).on("click",".overlay--left",function(){return o()}),e(".logo").on("click",function(l){var s,i,u,v,c,h;if(l.preventDefault(),!e(r[t]).hasClass("home")){if(1*r.length/4<=t&&t<=3*r.length/4){if((i=a-t)>0){for(s=0,u=[];;){if(n(),s++,s>=i)break;u.push(void 0)}return u}for(s=0,v=[];;){if(o(),s--,i>=s)break;v.push(void 0)}return v}if(t>1*r.length/2){for(i=r.length-t,s=0,c=[];;){if(n(),s++,console.log(s),s>=i)break;c.push(void 0)}return c}for(i=t,s=0,h=[];;){if(o(),s++,i>=s)break;h.push(void 0)}return h}}),e(".overlay--right").on({mouseenter:function(){return null!==t?e(c[1]).addClass("hover"):e(c[0]).addClass("hover")},mouseleave:function(){return null!==t?e(c[1]).removeClass("hover"):e(c[0]).removeClass("hover")}}),e(".overlay--left").on({mouseenter:function(){return e(p[p.length-1]).addClass("hover")},mouseleave:function(){return e(p[p.length-1]).removeClass("hover")}}),n=function(){var n,o,a,l;for(null===t?(t=e.inArray(c[0],r),l=c):(e(r[t]).removeClass("current").addClass("prev"),p.push(c.shift()),c.push(p.shift()),e("section.page.prev").first().removeClass("prev").addClass("next").appendTo(d).velocity("stop").velocity({translateX:100*(c.length-1)+50+"%"},{duration:0}),l=r,t++,t>=r.length&&(t=0)),o=0,a=l.length;a>o;o++)h=l[o],e(h).velocity({translateX:"-=100%"},{duration:1e3});return e(r[t]).addClass("current").removeClass("next").removeClass("hover"),n=e(".page.current").outerHeight(),e(".viewport").velocity({height:n},{duration:1e3})},o=function(){var n,o,a,l;for(null===t?(t=e.inArray(c[0],r)-1,l=p):(e(r[t]).removeClass("current").addClass("next"),p.unshift(c.pop()),e("section.page.next").last().removeClass("next").addClass("prev").prependTo(d).velocity("stop").velocity({translateX:-100*(p.length-1)-150+"%"},{duration:0}),l=r,t--,0>t&&(t=r.length-1)),o=0,a=l.length;a>o;o++)h=l[o],e(h).velocity({translateX:"+=100%"},{duration:1e3});return c.unshift(p.pop()),e("section.page.prev").last().removeClass("prev"),e(r[t]).addClass("current").removeClass("prev").removeClass("hover"),n=e(".page.current").outerHeight(),e(".viewport").velocity({height:n},{duration:1e3})},f=function(){var r,t,n;return e(".page.current").length>0&&(r=e(".page.current").outerHeight(),e(".viewport").velocity({height:r},{duration:0})),n=e(window).width(),t=e("section.page").width(),console.log(t),e(".viewport .overlay").width((n-t)/2)},e(window).resize(f),e(document).ready(function(){return f(),this}),this})}).call(this);