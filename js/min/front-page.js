(function(){jQuery(function(e){var t,r,n,o,a,l,s,i,u,c,h,v,d;for(r=null,c=e(".section-wrap"),i=e("section.page"),h=i.clone().addClass("page--clone prev").prependTo(c).toArray(),i=i.addClass("next").toArray(),t=e("section.page"),n=o=0,l=i.length;l>o;n=++o)u=i[n],d=50+100*n,e(u).velocity({translateX:d+"%"},{duration:0,complete:function(t){return e(t).fadeIn()}});for(n=a=0,s=h.length;s>a;n=++a)u=h[n],d=-150-100*(h.length-1-n),e(u).velocity({translateX:d+"%"},{duration:0,complete:function(t){return e(t).fadeIn()}});return e(document).on("click",".overlay--right",function(){var n,o,a,l;for(null===r?(r=e.inArray(i[0],t),l=i):(e(t[r]).removeClass("current").addClass("prev"),h.push(i.shift()),i.push(h.shift()),e("section.page.prev").first().removeClass("prev").addClass("next").appendTo(c).velocity("stop").velocity({translateX:100*(i.length-1)+50+"%"},{duration:0}),l=t,r++,r>=t.length&&(r=0)),o=0,a=l.length;a>o;o++)u=l[o],e(u).velocity({translateX:"-=100%"},{duration:1e3});return e(t[r]).addClass("current").removeClass("next").removeClass("hover"),n=e(".page.current .page__header").height()+e(".page.current .page__body").height(),e(".viewport").velocity({height:n},{duration:1e3})}),e(document).on("click",".overlay--left",function(){var n,o,a,l;for(null===r?(r=e.inArray(i[0],t)-1,l=h):(e(t[r]).removeClass("current").addClass("next"),h.unshift(i.pop()),e("section.page.next").last().removeClass("next").addClass("prev").prependTo(c).velocity("stop").velocity({translateX:-100*(h.length-1)-150+"%"},{duration:0}),l=t,r--,0>r&&(r=t.length-1)),o=0,a=l.length;a>o;o++)u=l[o],e(u).velocity({translateX:"+=100%"},{duration:1e3});return i.unshift(h.pop()),console.log(h),e("section.page.prev").last().removeClass("prev"),e(t[r]).addClass("current").removeClass("prev").removeClass("hover"),n=e(".page.current .page__header").height()+e(".page.current .page__body").height(),e(".viewport").velocity({height:n},{duration:1e3})}),e(".logo").on("click",function(n){var o,a,l;if(n.preventDefault(),null!==r){for(e(t[r]).removeClass("current").addClass("next"),r=null,a=0,l=i.length;l>a;a++)u=i[a],e(u).velocity({translateX:"+=100%"},{duration:1e3});return o=e("section.home").outerHeight(),e(".viewport").velocity({height:o},{duration:1e3})}}),e(".overlay--right").on({mouseenter:function(){return null!==r?e(i[1]).addClass("hover"):e(i[0]).addClass("hover")},mouseleave:function(){return null!==r?e(i[1]).removeClass("hover"):e(i[0]).removeClass("hover")}}),e(".overlay--left").on({mouseenter:function(){return e(h[h.length-1]).addClass("hover")},mouseleave:function(){return e(h[h.length-1]).removeClass("hover")}}),v=function(){var t,r,n;return e(".page.current").length>0&&(t=e(".page.current .page__header").height()+e(".page.current .page__body").height(),e(".viewport").velocity({height:t},{duration:0})),n=e(window).width(),r=e("section.page").width(),console.log(r),e(".viewport .overlay").width((n-r)/2)},e(window).resize(v),e(document).ready(function(){return v(),this}),this})}).call(this);