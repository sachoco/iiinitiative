(function(){jQuery(function(e){var t,r,n,o,a,l,s,i,u,v,h,c,d;for(e(".rslides").responsiveSlides({speed:2e3,random:!0,timeout:2e4}),r=null,v=e(".section-wrap"),i=e("section.page"),h=i.clone().addClass("page--clone prev").prependTo(v).toArray(),i=i.addClass("next").toArray(),t=e("section.page"),n=o=0,l=i.length;l>o;n=++o)u=i[n],d=50+100*n,e(u).velocity({translateX:d+"%"},{duration:0});for(n=a=0,s=h.length;s>a;n=++a)u=h[n],d=-150-100*(h.length-1-n),e(u).velocity({translateX:d+"%"},{duration:0});return e(document).on("click",".overlay--right",function(){var n,o,a,l;for(null===r?(r=e.inArray(i[0],t),l=i):(e(t[r]).removeClass("current").addClass("prev"),h.push(i.shift()),i.push(h.shift()),e("section.page.prev").first().removeClass("prev").addClass("next").appendTo(v).velocity("stop").velocity({translateX:100*(i.length-1)+50+"%"},{duration:0}),l=t,r++,r>=t.length&&(r=0)),o=0,a=l.length;a>o;o++)u=l[o],e(u).velocity({translateX:"-=100%"},{duration:1e3});return e(t[r]).addClass("current").removeClass("next").removeClass("hover"),n=e(".page.current .page__header").height()+e(".page.current .page__body").height(),e(".viewport").velocity({height:n},{duration:1e3})}),e(document).on("click",".overlay--left",function(){var n,o,a,l;for(null===r?(r=e.inArray(i[0],t)-1,l=h):(e(t[r]).removeClass("current").addClass("next"),h.unshift(i.pop()),e("section.page.next").last().removeClass("next").addClass("prev").prependTo(v).velocity("stop").velocity({translateX:-100*(h.length-1)-150+"%"},{duration:0}),l=t,r--,0>r&&(r=t.length-1)),o=0,a=l.length;a>o;o++)u=l[o],e(u).velocity({translateX:"+=100%"},{duration:1e3});return i.unshift(h.pop()),console.log(h),e("section.page.prev").last().removeClass("prev"),e(t[r]).addClass("current").removeClass("prev").removeClass("hover"),n=e(".page.current .page__header").height()+e(".page.current .page__body").height(),e(".viewport").velocity({height:n},{duration:1e3})}),e(".logo").on("click",function(){var n,o,a;if(null!==r){for(e(t[r]).removeClass("current").addClass("next"),r=null,o=0,a=i.length;a>o;o++)u=i[o],e(u).velocity({translateX:"+=100%"},{duration:1e3});return n=e(".home").outerHeight(),e(".viewport").velocity({height:n},{duration:1e3})}}),e(".overlay--right").on({mouseenter:function(){return null!==r?e(i[1]).addClass("hover"):e(i[0]).addClass("hover")},mouseleave:function(){return null!==r?e(i[1]).removeClass("hover"):e(i[0]).removeClass("hover")}}),e(".overlay--left").on({mouseenter:function(){return e(h[h.length-1]).addClass("hover")},mouseleave:function(){return e(h[h.length-1]).removeClass("hover")}}),c=function(){var t;return e(".page.current").length>0?(t=e(".page.current .page__header").height()+e(".page.current .page__body").height(),e(".viewport").velocity({height:t},{duration:0})):void 0},e(window).resize(c),this})}).call(this);